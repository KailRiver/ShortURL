# Итоговый проект «Сервис коротких ссылок»

Реализация основных функций:
Создание коротких ссылок: Реализован алгоритм для преобразования длинных URL в короткие.
Уникальные ссылки для каждого пользователя: Убедились, что разные пользователи получают разные короткие ссылки для одного и того же URL.
Лимит переходов: Реализована система отслеживания количества переходов по каждой ссылке.
Время жизни ссылки: Добавлена автоматическая очистка ссылок с истекшим сроком действия.
Идентификация пользователя: Реализована идентификация пользователей по UUID.
Переход по короткой ссылке: Добавлена возможность автоматического перенаправления на оригинальный URL.
Добавлена возможность переключения между пользователями.
Реализовано сохранение и загрузка пользователей между запусками программы.

## Поддерживаемые команды

shorten: Создать короткую ссылку.
redirect: Перейти по короткой ссылке.
switch: Переключиться на другого пользователя.
exit: Завершить работу программы.

## Как протестировать код

### Уникальные ссылки для разных пользователей

Цель: Убедиться, что разные пользователи получают разные короткие ссылки для одного и того же URL.

Шаги:

Запустите программу.
Создайте первого пользователя:
- Введите команду: 1
- Введите имя пользователя: User1
- Создайте короткую ссылку для первого пользователя:
- Введите команду: shorten
- Введите URL: https://www.example.com
- Введите лимит переходов: 10
- Запишите короткую ссылку (например, clck.ru/123).
- Переключитесь на другого пользователя:
- Введите команду: switch
- Создайте второго пользователя:
- Введите команду: 1
- Введите имя пользователя: User2
- Создайте короткую ссылку для второго пользователя:
- Введите команду: shorten
- Введите URL: https://www.example.com
- Введите лимит переходов: 10
- Запишите короткую ссылку (например, clck.ru/456).
- Убедитесь, что короткие ссылки разные:
Сравните clck.ru/123 и clck.ru/456.
### 2. Лимит переходов

Цель: Убедиться, что ссылка блокируется после достижения лимита переходов.

Шаги:

- Запустите программу.
- Создайте пользователя (если еще не создан):
- Введите команду: 1
- Введите имя пользователя: TestUser
- Создайте короткую ссылку с лимитом переходов:
- Введите команду: shorten
- Введите URL: https://www.example.com
- Введите лимит переходов: 2
- Запишите короткую ссылку (например, clck.ru/789).
- Перейдите по ссылке первый раз:
- Введите команду: redirect
- Введите короткую ссылку: clck.ru/789
- Убедитесь, что браузер открывает https://www.example.com.
- Перейдите по ссылке второй раз:
- Введите команду: redirect
- Введите короткую ссылку: clck.ru/789
- Убедитесь, что браузер открывает https://www.example.com.
- Перейдите по ссылке третий раз:
- Введите команду: redirect
- Введите короткую ссылку: clck.ru/789
- Убедитесь, что программа выводит сообщение: Link is expired or click limit reached..
### 3. Время жизни ссылки

Цель: Убедиться, что ссылка удаляется после истечения срока её жизни.

Шаги:

- Запустите программу.
- Создайте пользователя (если еще не создан):
- Введите команду: 1
- Введите имя пользователя: TestUser
- Создайте короткую ссылку:
- Введите команду: shorten
- Введите URL: https://www.example.com
- Введите лимит переходов: 10
- Запишите короткую ссылку (например, clck.ru/ABC).
- Имитируйте истечение времени жизни ссылки:
- В коде класса ShortLink измените метод isExpired() на:
```
public boolean isExpired() {
return LocalDateTime.now().isAfter(creationTime.plusSeconds(30)); // Срок действия — 30 секунд
} 
```
- Подождите 30 секунд.
- Попробуйте перейти по ссылке:
- Введите команду: redirect
- Введите короткую ссылку: clck.ru/ABC
- Убедитесь, что программа выводит сообщение: Link is expired or click limit reached..
### 4. Уведомления пользователя

Цель: Убедиться, что пользователь получает уведомления при исчерпании лимита переходов или истечении срока жизни ссылки.

Шаги:

- Запустите программу.
- Создайте пользователя (если еще не создан):
- Введите команду: 1
- Введите имя пользователя: TestUser
- Создайте короткую ссылку с лимитом переходов:
- Введите команду: shorten
- Введите URL: https://www.example.com
- Введите лимит переходов: 1
- Запишите короткую ссылку (например, clck.ru/DEF).
- Перейдите по ссылке первый раз:
- Введите команду: redirect
- Введите короткую ссылку: clck.ru/DEF
- Убедитесь, что браузер открывает https://www.example.com.
- Перейдите по ссылке второй раз:
- Введите команду: redirect
- Введите короткую ссылку: clck.ru/DEF
- Убедитесь, что программа выводит сообщение: User <UUID>: Link is expired or click limit reached..
### 5. Сохранение пользователей

Цель: Убедиться, что программа запоминает пользователей между запусками.

Шаги:

- Запустите программу.
- Создайте пользователя:
- Введите команду: 1
- Введите имя пользователя: SavedUser
- Завершите программу:
- Введите команду: exit
- Запустите программу снова.
- Выберите пользователя:
- Введите команду: 2
- Убедитесь, что пользователь SavedUser доступен для выбора.